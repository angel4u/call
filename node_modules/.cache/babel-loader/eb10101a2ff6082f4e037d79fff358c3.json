{"ast":null,"code":"import _taggedTemplateLiteral from\"/root/twilio-phone-client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _classCallCheck from\"/root/twilio-phone-client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/root/twilio-phone-client/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/root/twilio-phone-client/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/root/twilio-phone-client/node_modules/@babel/runtime/helpers/esm/createSuper\";function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  font-size: 12px;\\n  color: #565b73;\\n  padding-top: 8px;\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 3px;\\n  margin-bottom: 0px;\\n  font-size: 12px;\\n  line-height: 1.54;\\n  overflow-wrap: break-word;\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  font-size: 10px;\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  flex: 0 0 auto;\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  font-size: 10px;\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  margin-right: 8px;\\n  font-weight: bold;\\n  overflow: hidden;\\n  flex: 0 1 auto;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  -webkit-box-pack: justify;\\n  justify-content: space-between;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  -webkit-box-flex: 1;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  flex-direction: row;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  padding: 5px 12px 8px 12px;\\n  margin-left: 0px;\\n  position: relative;\\n  overflow-x: hidden;\\n  display: flex;\\n  flex-wrap: nowrap;\\n  -webkit-box-flex: 1;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  flex-direction: column;\\n  \",\"\\n  border-radius: 4px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  flex-direction: column;\\n  margin-bottom: 8px;\\n  margin-top: 8px;\\n  display: flex;\\n  position: relative;\\n  flex: 1 1 100%;\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  max-width: 440px;\\n  min-width: 100px;\\n  overflow-x: hidden;\\n  \",\"\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  width: 100vw;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-top: auto;\\n  flex-shrink: 1;\\n  -webkit-box-flex: 1;\\n  flex-grow: 1;\\n  overflow-y: auto;\\n  padding-left: 12px;\\n  padding-right: 12px;\\n  position: relative;\\n  overflow-x: hidden;\\n  flex-flow: row wrap;\\n  align-items: stretch;\\n  height: 100vh;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  &.type-dark {\\n    font-size: 11px;\\n    padding: 0.5rem 0.75rem;\\n    background-color: #565b73;\\n    color: #ffffff;\\n    > * {\\n      text-align: left;\\n    }\\n  }\\n  &.__react_component_tooltip.place-left::after {\\n    border-left: 6px solid #565b73 !important;\\n  }\\n  &.__react_component_tooltip.place-right::after {\\n    border-right: 6px solid #565b73 !important;\\n  }\\n  &.__react_component_tooltip.place-top::after {\\n    border-top: 6px solid #565b73 !important;\\n  }\\n  &.__react_component_tooltip.place-bottom::after {\\n    border-bottom: 6px solid #565b73 !important;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{Component}from'react';import ReactTooltip from'react-tooltip';import styled from'styled-components';import{printTimestamp,formatBodyText,prettyDate}from'../helpers';import Spinner from'./Spinner';var MsgList=/*#__PURE__*/function(_Component){_inherits(MsgList,_Component);var _super=_createSuper(MsgList);function MsgList(props){var _this;_classCallCheck(this,MsgList);_this=_super.call(this,props);_this.attachScrollListener=function(){if(_this.scrollAreaRef.current&&!_this.state.scrollListenerAttached){_this.scrollAreaRef.current.addEventListener('scroll',_this.onScroll);_this.setState({scrollListenerAttached:true});}};_this.onScroll=function(){/*\n     * this.scrollAreaRef.current.scrollTop - current position\n     * this.scrollAreaRef.current.scrollHeight - height of element's content (including overflows)\n     * this.scrollAreaRef.current.offsetHeight - height of element's viewport\n     */if(_this.scrollAreaRef.current.scrollTop<250&&_this.canScroll){_this.canScroll=false;_this.props.fetchAnotherPage().then(function(){_this.canScroll=true;}).catch(function(){});}};_this.canScroll=true;_this.state={scrollListenerAttached:false};_this.messagesEndRef=React.createRef();_this.scrollAreaRef=React.createRef();return _this;}_createClass(MsgList,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.scrollAreaRef.current&&this.attachScrollListener){this.scrollAreaRef.current.removeEventListener('scroll',this.onScroll);this.setState({scrollListenerAttached:false});}}// since newest messages are at the bottom, scroll there by default\n},{key:\"scrollToBottom\",value:function scrollToBottom(){if(this.messagesEndRef.current){this.messagesEndRef.current.scrollIntoView();}}},{key:\"componentDidMount\",value:function componentDidMount(){this.attachScrollListener();this.scrollToBottom();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){this.attachScrollListener();// scroll to the bottom on:\nif(// the 1st load\nprevProps.messages===undefined&&this.props.messages!==undefined||// or when new message was added (last messages are not the same)\nprevProps.messages&&this.props.messages&&prevProps.messages[prevProps.messages.length-1]!==this.props.messages[this.props.messages.length-1]){this.scrollToBottom();}}},{key:\"render\",value:function render(){var lastDate=null;if(this.props.selectedContact==='new'){return/*#__PURE__*/React.createElement(Container,null);}else if(this.props.messages===undefined){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Spinner,{text:\"Loading messages...\"}));}else{return/*#__PURE__*/React.createElement(Container,{key:\"msgListCont\",ref:this.scrollAreaRef},/*#__PURE__*/React.createElement(StyledReactTooltip,{key:\"tooltip\",place:\"left\",effect:\"solid\",multiline:true,delayHide:500,delayShow:500,clickable:true}),/*#__PURE__*/React.createElement(MsgCanvas,{key:\"msgCanvas\"},this.props.messages.map(function(msg){return[lastDate===prettyDate(msg.timestamp)?null:/*#__PURE__*/React.createElement(Date,{key:msg.timestamp},lastDate=prettyDate(msg.timestamp)),/*#__PURE__*/React.createElement(MsgListItem,{key:msg.sid,author:msg.author},/*#__PURE__*/React.createElement(Bubble,{author:msg.author},/*#__PURE__*/React.createElement(Header,{key:\"header\"},/*#__PURE__*/React.createElement(Author,{key:\"author\"},msg.attributes.fromNumber),/*#__PURE__*/React.createElement(TimeStamp,{key:\"timestamp\",\"data-tip\":(msg.attributes.sid?msg.attributes.sid+'<br />':'')+(msg.attributes.fromNumber?'From: '+msg.attributes.fromNumber+'<br />':'')+(msg.attributes.toNumber?'To: '+msg.attributes.toNumber+'<br />':'')+(msg.attributes.dateCreated?'Date created: '+msg.attributes.dateCreated+'<br />':'')+(msg.attributes.numSegments?'Sent as '+msg.attributes.numSegments+' segment'+(msg.attributes.numSegments>1?'s':''):'')},printTimestamp(msg.timestamp))),/*#__PURE__*/React.createElement(Body,{key:\"body\"},formatBodyText(msg.body))))];}),/*#__PURE__*/React.createElement(\"div\",{ref:this.messagesEndRef})));}}}]);return MsgList;}(Component);export{MsgList as default};var StyledReactTooltip=styled(ReactTooltip)(_templateObject());var Container=styled.div(_templateObject2());var MsgCanvas=styled.div(_templateObject3());var MsgListItem=styled.div(_templateObject4(),function(props){return props.author==='them'?// them - grey\n\"\\n    align-self: left;\\n    margin-left: 0px;\\n    margin-right: 44px;\\n    \":// us - accent color\n\"\\n    align-self: right;\\n    margin-left: 44px;\\n    margin-right: 0px;\\n    \";});var Bubble=styled.div(_templateObject5(),function(props){return props.author==='them'?// them - grey\n\"\\n    background: #ECEDF1;\\n    color: rgb(34, 34, 34);\\n    margin-right: auto;\\n    \":// us - blue\n\"\\n    background: \".concat(process.env.REACT_APP_ACCENT_COLOR,\";\\n    color: #FFFFFF;\\n    margin-left: auto;\\n    \");});var Header=styled.div(_templateObject6());var Author=styled.div(_templateObject7());var TimeStamp=styled.div(_templateObject8());var Body=styled.div(_templateObject9());var Date=styled.div(_templateObject10());","map":{"version":3,"sources":["/root/twilio-phone-client/src/components/MsgList.js"],"names":["React","Component","ReactTooltip","styled","printTimestamp","formatBodyText","prettyDate","Spinner","MsgList","props","attachScrollListener","scrollAreaRef","current","state","scrollListenerAttached","addEventListener","onScroll","setState","scrollTop","canScroll","fetchAnotherPage","then","catch","messagesEndRef","createRef","removeEventListener","scrollIntoView","scrollToBottom","prevProps","messages","undefined","length","lastDate","selectedContact","map","msg","timestamp","sid","author","attributes","fromNumber","toNumber","dateCreated","numSegments","body","StyledReactTooltip","Container","div","MsgCanvas","MsgListItem","Bubble","process","env","REACT_APP_ACCENT_COLOR","Header","Author","TimeStamp","Body","Date"],"mappings":"shIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,cAAT,CAAyBC,cAAzB,CAAyCC,UAAzC,KAA2D,YAA3D,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,GAEqBC,CAAAA,O,kGACnB,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAwBnBC,oBAxBmB,CAwBI,UAAM,CAC3B,GAAI,MAAKC,aAAL,CAAmBC,OAAnB,EAA8B,CAAC,MAAKC,KAAL,CAAWC,sBAA9C,CAAsE,CACpE,MAAKH,aAAL,CAAmBC,OAAnB,CAA2BG,gBAA3B,CAA4C,QAA5C,CAAsD,MAAKC,QAA3D,EACA,MAAKC,QAAL,CAAc,CAAEH,sBAAsB,CAAE,IAA1B,CAAd,EACD,CACF,CA7BkB,OA+BnBE,QA/BmB,CA+BR,UAAM,CACf;AACJ;AACA;AACA;AACA,OACI,GAAI,MAAKL,aAAL,CAAmBC,OAAnB,CAA2BM,SAA3B,CAAuC,GAAvC,EAA8C,MAAKC,SAAvD,CAAkE,CAChE,MAAKA,SAAL,CAAiB,KAAjB,CACA,MAAKV,KAAL,CACGW,gBADH,GAEGC,IAFH,CAEQ,UAAM,CACV,MAAKF,SAAL,CAAiB,IAAjB,CACD,CAJH,EAKGG,KALH,CAKS,UAAM,CAAE,CALjB,EAMD,CACF,CA9CkB,CAEjB,MAAKH,SAAL,CAAiB,IAAjB,CACA,MAAKN,KAAL,CAAa,CACXC,sBAAsB,CAAE,KADb,CAAb,CAGA,MAAKS,cAAL,CAAsBvB,KAAK,CAACwB,SAAN,EAAtB,CACA,MAAKb,aAAL,CAAqBX,KAAK,CAACwB,SAAN,EAArB,CAPiB,aAQlB,C,uFAEsB,CACrB,GAAI,KAAKb,aAAL,CAAmBC,OAAnB,EAA8B,KAAKF,oBAAvC,CAA6D,CAC3D,KAAKC,aAAL,CAAmBC,OAAnB,CAA2Ba,mBAA3B,CAA+C,QAA/C,CAAyD,KAAKT,QAA9D,EACA,KAAKC,QAAL,CAAc,CAAEH,sBAAsB,CAAE,KAA1B,CAAd,EACD,CACF,CAED;uDACiB,CACf,GAAI,KAAKS,cAAL,CAAoBX,OAAxB,CAAiC,CAC/B,KAAKW,cAAL,CAAoBX,OAApB,CAA4Bc,cAA5B,GACD,CACF,C,6DA0BmB,CAClB,KAAKhB,oBAAL,GACA,KAAKiB,cAAL,GACD,C,8DAEkBC,S,CAAW,CAC5B,KAAKlB,oBAAL,GACA;AACA,GACE;AACCkB,SAAS,CAACC,QAAV,GAAuBC,SAAvB,EAAoC,KAAKrB,KAAL,CAAWoB,QAAX,GAAwBC,SAA7D,EACA;AACCF,SAAS,CAACC,QAAV,EACC,KAAKpB,KAAL,CAAWoB,QADZ,EAECD,SAAS,CAACC,QAAV,CAAmBD,SAAS,CAACC,QAAV,CAAmBE,MAAnB,CAA4B,CAA/C,IACE,KAAKtB,KAAL,CAAWoB,QAAX,CAAoB,KAAKpB,KAAL,CAAWoB,QAAX,CAAoBE,MAApB,CAA6B,CAAjD,CAPN,CAQE,CACA,KAAKJ,cAAL,GACD,CACF,C,uCAEQ,CACP,GAAIK,CAAAA,QAAQ,CAAG,IAAf,CACA,GAAI,KAAKvB,KAAL,CAAWwB,eAAX,GAA+B,KAAnC,CAA0C,CACxC,mBAAO,oBAAC,SAAD,MAAP,CACD,CAFD,IAEO,IAAI,KAAKxB,KAAL,CAAWoB,QAAX,GAAwBC,SAA5B,CAAuC,CAC5C,mBACE,oBAAC,SAAD,mBACE,oBAAC,OAAD,EAAS,IAAI,CAAC,qBAAd,EADF,CADF,CAKD,CANM,IAMA,CACL,mBACE,oBAAC,SAAD,EAAW,GAAG,CAAC,aAAf,CAA6B,GAAG,CAAE,KAAKnB,aAAvC,eACE,oBAAC,kBAAD,EACE,GAAG,CAAC,SADN,CAEE,KAAK,CAAC,MAFR,CAGE,MAAM,CAAC,OAHT,CAIE,SAAS,CAAE,IAJb,CAKE,SAAS,CAAE,GALb,CAME,SAAS,CAAE,GANb,CAOE,SAAS,CAAE,IAPb,EADF,cAUE,oBAAC,SAAD,EAAW,GAAG,CAAC,WAAf,EACG,KAAKF,KAAL,CAAWoB,QAAX,CAAoBK,GAApB,CAAwB,SAACC,GAAD,CAAS,CAChC,MAAO,CACLH,QAAQ,GAAK1B,UAAU,CAAC6B,GAAG,CAACC,SAAL,CAAvB,CAAyC,IAAzC,cACE,oBAAC,IAAD,EAAM,GAAG,CAAED,GAAG,CAACC,SAAf,EACIJ,QAAQ,CAAG1B,UAAU,CAAC6B,GAAG,CAACC,SAAL,CADzB,CAFG,cAML,oBAAC,WAAD,EAAa,GAAG,CAAED,GAAG,CAACE,GAAtB,CAA2B,MAAM,CAAEF,GAAG,CAACG,MAAvC,eACE,oBAAC,MAAD,EAAQ,MAAM,CAAEH,GAAG,CAACG,MAApB,eACE,oBAAC,MAAD,EAAQ,GAAG,CAAC,QAAZ,eACE,oBAAC,MAAD,EAAQ,GAAG,CAAC,QAAZ,EAAsBH,GAAG,CAACI,UAAJ,CAAeC,UAArC,CADF,cAEE,oBAAC,SAAD,EACE,GAAG,CAAC,WADN,CAEE,WACE,CAACL,GAAG,CAACI,UAAJ,CAAeF,GAAf,CACGF,GAAG,CAACI,UAAJ,CAAeF,GAAf,CAAqB,QADxB,CAEG,EAFJ,GAGCF,GAAG,CAACI,UAAJ,CAAeC,UAAf,CACG,SAAWL,GAAG,CAACI,UAAJ,CAAeC,UAA1B,CAAuC,QAD1C,CAEG,EALJ,GAMCL,GAAG,CAACI,UAAJ,CAAeE,QAAf,CACG,OAASN,GAAG,CAACI,UAAJ,CAAeE,QAAxB,CAAmC,QADtC,CAEG,EARJ,GASCN,GAAG,CAACI,UAAJ,CAAeG,WAAf,CACG,iBACAP,GAAG,CAACI,UAAJ,CAAeG,WADf,CAEA,QAHH,CAIG,EAbJ,GAcCP,GAAG,CAACI,UAAJ,CAAeI,WAAf,CACG,WACAR,GAAG,CAACI,UAAJ,CAAeI,WADf,CAEA,UAFA,EAGCR,GAAG,CAACI,UAAJ,CAAeI,WAAf,CAA6B,CAA7B,CAAiC,GAAjC,CAAuC,EAHxC,CADH,CAKG,EAnBJ,CAHJ,EAyBGvC,cAAc,CAAC+B,GAAG,CAACC,SAAL,CAzBjB,CAFF,CADF,cA+BE,oBAAC,IAAD,EAAM,GAAG,CAAC,MAAV,EAAkB/B,cAAc,CAAC8B,GAAG,CAACS,IAAL,CAAhC,CA/BF,CADF,CANK,CAAP,CA0CD,CA3CA,CADH,cA6CE,2BAAK,GAAG,CAAE,KAAKrB,cAAf,EA7CF,CAVF,CADF,CA4DD,CACF,C,qBA9IkCtB,S,SAAhBO,O,aAiJrB,GAAMqC,CAAAA,kBAAkB,CAAG1C,MAAM,CAACD,YAAD,CAAT,mBAAxB,CAwBA,GAAM4C,CAAAA,SAAS,CAAG3C,MAAM,CAAC4C,GAAV,oBAAf,CAiBA,GAAMC,CAAAA,SAAS,CAAG7C,MAAM,CAAC4C,GAAV,oBAAf,CAIA,GAAME,CAAAA,WAAW,CAAG9C,MAAM,CAAC4C,GAAV,oBAab,SAACtC,KAAD,QACAA,CAAAA,KAAK,CAAC6B,MAAN,GAAiB,MAAjB,CACI;AADJ,gFAOI;AAPJ,gFADA,EAba,CAAjB,CA6BA,GAAMY,CAAAA,MAAM,CAAG/C,MAAM,CAAC4C,GAAV,oBAWR,SAACtC,KAAD,QACAA,CAAAA,KAAK,CAAC6B,MAAN,GAAiB,MAAjB,CACI;AADJ,yFAOI;AAPJ,4BASca,OAAO,CAACC,GAAR,CAAYC,sBAT1B,wDADA,EAXQ,CAAZ,CA4BA,GAAMC,CAAAA,MAAM,CAAGnD,MAAM,CAAC4C,GAAV,oBAAZ,CAWA,GAAMQ,CAAAA,MAAM,CAAGpD,MAAM,CAAC4C,GAAV,oBAAZ,CAYA,GAAMS,CAAAA,SAAS,CAAGrD,MAAM,CAAC4C,GAAV,oBAAf,CAUA,GAAMU,CAAAA,IAAI,CAAGtD,MAAM,CAAC4C,GAAV,oBAAV,CAQA,GAAMW,CAAAA,IAAI,CAAGvD,MAAM,CAAC4C,GAAV,qBAAV","sourcesContent":["import React, { Component } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport styled from 'styled-components';\nimport { printTimestamp, formatBodyText, prettyDate } from '../helpers';\nimport Spinner from './Spinner';\n\nexport default class MsgList extends Component {\n  constructor(props) {\n    super(props);\n    this.canScroll = true;\n    this.state = {\n      scrollListenerAttached: false\n    };\n    this.messagesEndRef = React.createRef();\n    this.scrollAreaRef = React.createRef();\n  }\n\n  componentWillUnmount() {\n    if (this.scrollAreaRef.current && this.attachScrollListener) {\n      this.scrollAreaRef.current.removeEventListener('scroll', this.onScroll);\n      this.setState({ scrollListenerAttached: false });\n    }\n  }\n\n  // since newest messages are at the bottom, scroll there by default\n  scrollToBottom() {\n    if (this.messagesEndRef.current) {\n      this.messagesEndRef.current.scrollIntoView();\n    }\n  }\n\n  attachScrollListener = () => {\n    if (this.scrollAreaRef.current && !this.state.scrollListenerAttached) {\n      this.scrollAreaRef.current.addEventListener('scroll', this.onScroll);\n      this.setState({ scrollListenerAttached: true });\n    }\n  };\n\n  onScroll = () => {\n    /*\n     * this.scrollAreaRef.current.scrollTop - current position\n     * this.scrollAreaRef.current.scrollHeight - height of element's content (including overflows)\n     * this.scrollAreaRef.current.offsetHeight - height of element's viewport\n     */\n    if (this.scrollAreaRef.current.scrollTop < 250 && this.canScroll) {\n      this.canScroll = false;\n      this.props\n        .fetchAnotherPage()\n        .then(() => {\n          this.canScroll = true;\n        })\n        .catch(() => {});\n    }\n  };\n\n  componentDidMount() {\n    this.attachScrollListener();\n    this.scrollToBottom();\n  }\n\n  componentDidUpdate(prevProps) {\n    this.attachScrollListener();\n    // scroll to the bottom on:\n    if (\n      // the 1st load\n      (prevProps.messages === undefined && this.props.messages !== undefined) ||\n      // or when new message was added (last messages are not the same)\n      (prevProps.messages &&\n        this.props.messages &&\n        prevProps.messages[prevProps.messages.length - 1] !==\n          this.props.messages[this.props.messages.length - 1])\n    ) {\n      this.scrollToBottom();\n    }\n  }\n\n  render() {\n    let lastDate = null;\n    if (this.props.selectedContact === 'new') {\n      return <Container></Container>;\n    } else if (this.props.messages === undefined) {\n      return (\n        <Container>\n          <Spinner text=\"Loading messages...\" />\n        </Container>\n      );\n    } else {\n      return (\n        <Container key=\"msgListCont\" ref={this.scrollAreaRef}>\n          <StyledReactTooltip\n            key=\"tooltip\"\n            place=\"left\"\n            effect=\"solid\"\n            multiline={true}\n            delayHide={500}\n            delayShow={500}\n            clickable={true}\n          />\n          <MsgCanvas key=\"msgCanvas\">\n            {this.props.messages.map((msg) => {\n              return [\n                lastDate === prettyDate(msg.timestamp) ? null : (\n                  <Date key={msg.timestamp}>\n                    {(lastDate = prettyDate(msg.timestamp))}\n                  </Date>\n                ),\n                <MsgListItem key={msg.sid} author={msg.author}>\n                  <Bubble author={msg.author}>\n                    <Header key=\"header\">\n                      <Author key=\"author\">{msg.attributes.fromNumber}</Author>\n                      <TimeStamp\n                        key=\"timestamp\"\n                        data-tip={\n                          (msg.attributes.sid\n                            ? msg.attributes.sid + '<br />'\n                            : '') +\n                          (msg.attributes.fromNumber\n                            ? 'From: ' + msg.attributes.fromNumber + '<br />'\n                            : '') +\n                          (msg.attributes.toNumber\n                            ? 'To: ' + msg.attributes.toNumber + '<br />'\n                            : '') +\n                          (msg.attributes.dateCreated\n                            ? 'Date created: ' +\n                              msg.attributes.dateCreated +\n                              '<br />'\n                            : '') +\n                          (msg.attributes.numSegments\n                            ? 'Sent as ' +\n                              msg.attributes.numSegments +\n                              ' segment' +\n                              (msg.attributes.numSegments > 1 ? 's' : '')\n                            : '')\n                        }\n                      >\n                        {printTimestamp(msg.timestamp)}\n                      </TimeStamp>\n                    </Header>\n                    <Body key=\"body\">{formatBodyText(msg.body)}</Body>\n                  </Bubble>\n                </MsgListItem>\n              ];\n            })}\n            <div ref={this.messagesEndRef} />\n          </MsgCanvas>\n        </Container>\n      );\n    }\n  }\n}\n\nconst StyledReactTooltip = styled(ReactTooltip)`\n  &.type-dark {\n    font-size: 11px;\n    padding: 0.5rem 0.75rem;\n    background-color: #565b73;\n    color: #ffffff;\n    > * {\n      text-align: left;\n    }\n  }\n  &.__react_component_tooltip.place-left::after {\n    border-left: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-right::after {\n    border-right: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-top::after {\n    border-top: 6px solid #565b73 !important;\n  }\n  &.__react_component_tooltip.place-bottom::after {\n    border-bottom: 6px solid #565b73 !important;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-top: auto;\n  flex-shrink: 1;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  overflow-y: auto;\n  padding-left: 12px;\n  padding-right: 12px;\n  position: relative;\n  overflow-x: hidden;\n  flex-flow: row wrap;\n  align-items: stretch;\n  height: 100vh;\n`;\n\nconst MsgCanvas = styled.div`\n  width: 100vw;\n`;\n\nconst MsgListItem = styled.div`\n  flex-direction: column;\n  margin-bottom: 8px;\n  margin-top: 8px;\n  display: flex;\n  position: relative;\n  flex: 1 1 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  max-width: 440px;\n  min-width: 100px;\n  overflow-x: hidden;\n  ${(props) =>\n    props.author === 'them'\n      ? // them - grey\n        `\n    align-self: left;\n    margin-left: 0px;\n    margin-right: 44px;\n    `\n      : // us - accent color\n        `\n    align-self: right;\n    margin-left: 44px;\n    margin-right: 0px;\n    `}\n`;\n\nconst Bubble = styled.div`\n  padding: 5px 12px 8px 12px;\n  margin-left: 0px;\n  position: relative;\n  overflow-x: hidden;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: column;\n  ${(props) =>\n    props.author === 'them'\n      ? // them - grey\n        `\n    background: #ECEDF1;\n    color: rgb(34, 34, 34);\n    margin-right: auto;\n    `\n      : // us - blue\n        `\n    background: ${process.env.REACT_APP_ACCENT_COLOR};\n    color: #FFFFFF;\n    margin-left: auto;\n    `}\n  border-radius: 4px;\n`;\n\nconst Header = styled.div`\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  display: flex;\n  flex-wrap: nowrap;\n  -webkit-box-flex: 1;\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-direction: row;\n`;\n\nconst Author = styled.div`\n  font-size: 10px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-right: 8px;\n  font-weight: bold;\n  overflow: hidden;\n  flex: 0 1 auto;\n`;\n\nconst TimeStamp = styled.div`\n  font-size: 10px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  flex: 0 0 auto;\n`;\n\nconst Body = styled.div`\n  margin-top: 3px;\n  margin-bottom: 0px;\n  font-size: 12px;\n  line-height: 1.54;\n  overflow-wrap: break-word;\n`;\n\nconst Date = styled.div`\n  text-align: center;\n  font-size: 12px;\n  color: #565b73;\n  padding-top: 8px;\n`;\n"]},"metadata":{},"sourceType":"module"}